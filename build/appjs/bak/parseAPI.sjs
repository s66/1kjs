<?!function(){    $API = {};    $APIstr = '';        var apiStr = Fs.readText($mappath('../api.res.js'), 936);    $APIstr = apiStr.replace(/\/\*\*[\w\W]+?\*\//g, '').replace(/^\s+$|^\t|^    /gm, '');    $API = JSON.parse($APIstr);    $DOC = {};        var module, info, moreInfo;    var _exp = {                module: function(name){            name = name.split(' ');            module = $DOC;            var modulePath = name[0].split('.');            var i = 0;            while(modulePath[i]){                if(!module[modulePath[i]]){                    module[modulePath[i]] = {};                }                module = module[modulePath[i]];                i++;            }            module._text = name[1];                    },                syntax: function(val){              val = val.split(' ');            if(!module._items){                module._items = [];            }             module._items.push(info = {                name: val[0],                desc: val[1]             });        },                params: function(val){            try{                val = val.split(/\r\n\s*/);                var params = [];                for(var i = 0; i < val.length; i++){                    var data = val[i].match(/(\S+) (\S+) (.+)/);                    params.push({                        name: data[1].replace(',', ''),                        type: data[2],                        desc: data[3],                        optional: data[1].indexOf(',') == 0                    });                }                info.params = params;            }catch(e){                $push('#'+ e.message +'#'+ val[0]);             }                    },                ret: function(val){            info.ret = val;        },                title: function(val){            if(!info.more){                info.more = [];            }            info.more.push(moreInfo = {                title: val            });        },                data: function(val){            if(val.indexOf('[') == 0){                moreInfo.data = JSON.parse(val);            }else{                moreInfo.data = val;            }        },                type: function(val){            info.type = val;        }    };    apiStr.replace(/\/\*\*([\w\W]+?)\*\//g, function(all, res){        res.replace(/\s*@(\w+)\s*([\w\W]+?)\s*(?=\s@|$)/g, function(all, key, val){            _exp[key](val);        });    });        //$push('<script>API='+$APIstr+ '</script>');    //$push('<script>DOC='+ JSON.stringify($DOC) +'</script>');}();?>